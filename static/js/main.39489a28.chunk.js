(this.webpackJsonppunkapp=this.webpackJsonppunkapp||[]).push([[0],{12:function(e,t,a){e.exports={list:"Catalog_list__14d6G",top:"Catalog_top__rj7Up",card:"Catalog_card__1RYRf",itemImage:"Catalog_itemImage__YasCY",itemName:"Catalog_itemName__1Z0-p",itemProps:"Catalog_itemProps__KU_A9",toCart:"Catalog_toCart__vPCOV"}},13:function(e,t,a){e.exports={header:"Header_header__2fTA_",container:"Header_container__2lMbd",nav:"Header_nav__1ISSn",navItem:"Header_navItem__3GPlc",inputSearch:"Header_inputSearch__3pP4-",cartCounter:"Header_cartCounter__1gQwG"}},15:function(e,t,a){e.exports={cart:"Cart_cart__R5dl8",list:"Cart_list__aPm9f",item:"Cart_item__1Eb5g",itemImg:"Cart_itemImg__1tr4p",itemName:"Cart_itemName__3hCF3",itemBtn:"Cart_itemBtn__1NeCp"}},37:function(e,t,a){e.exports={pagination:"Pagination_pagination__2NF8H"}},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(17),s=a.n(c),i=a(19),o=a(11),l=a(21),u=a(34),d=a(24),j=a(4),b=a(28),m=a.n(b),p=a(35);function O(){return h.apply(this,arguments)}function h(){return(h=Object(p.a)(m.a.mark((function e(){var t,a=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch.apply(void 0,a);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Bad request ".concat(t.url));case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f={baseUrl:"https://api.punkapi.com/v2/",getBeer:function(e){return O(e?"\n        ".concat(this.baseUrl,"beers?page=1&per_page=80&beer_name=").concat(e,"\n      "):"\n        ".concat(this.baseUrl,"beers?page=1&per_page=80\n      "))}};function g(e){return function(t){return{type:e,payload:t}}}var _="root/SET_CATALOG",x="root/SET_CURRENT_PAGE",v="root/ADD_TO_CART",C="root/REMOVE_FROM_CARD",N="root/SET_QUERY",y={catalog:[],query:"",cart:[],pageSize:8,currentPage:1},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case _:return Object(j.a)(Object(j.a)({},e),{},{catalog:r});case x:return Object(j.a)(Object(j.a)({},e),{},{currentPage:r});case v:return Object(j.a)(Object(j.a)({},e),{},{cart:[].concat(Object(d.a)(e.cart),[r])});case C:return Object(j.a)(Object(j.a)({},e),{},{cart:e.cart.filter((function(e){return e.id!==r}))});case N:return Object(j.a)(Object(j.a)({},e),{},{query:r});default:return e}},P=g(_),S=g(x),I=g(v),B=g(C),k=g(N),U=Object(l.c)(w,Object(l.a)(u.a)),E=a(3),F=a(5),T=a.n(F),A=a(15),M=a.n(A),R=a(1),H=function(e){var t=e.id,a=e.image_url,r=e.name,n=e.removeFromCart;return Object(R.jsxs)("div",{className:T()(M.a.item,"paper"),children:[Object(R.jsx)("img",{src:a,className:M.a.itemImg,alt:""}),Object(R.jsx)("h3",{className:M.a.itemName,children:r}),Object(R.jsx)("button",{className:M.a.itemBtn+" btn secondary",onClick:function(){return n(t)},children:"Remove from Cart"})]})},q=Object(o.b)((function(e){return{cart:e.cart}}),{removeFromCart:B})((function(e){var t=e.cart,a=e.removeFromCart;return Object(R.jsxs)("div",{className:M.a.cart,children:[Object(R.jsx)("h1",{children:"Cart"}),Object(R.jsx)("div",{className:M.a.list,children:t.map((function(e){return Object(r.createElement)(H,Object(j.a)(Object(j.a)({},e),{},{removeFromCart:a,key:e.id}))}))})]})})),z=a(36),L=a(16),G=a(12),D=a.n(G),V=function(e){var t=e.product,a=e.inCart,r=e.addToCart,n=t.name,c=t.image_url,s=t.abv,i=t.ibu,o=t.target_fg,l=t.target_og,u=t.ebc,d=t.srm;return Object(R.jsxs)("div",{className:T()(D.a.card,"paper"),children:[Object(R.jsx)("img",{className:D.a.itemImage,src:c,alt:"",draggable:"false"}),Object(R.jsxs)("div",{className:D.a.itemProps,children:[Object(R.jsx)("h3",{className:D.a.itemName,children:n}),Object(R.jsxs)("p",{children:["ABV: ",s,"%"]}),Object(R.jsxs)("p",{children:["IBU: ",i," IBU"]}),Object(R.jsxs)("p",{children:["FG: ",o]}),Object(R.jsxs)("p",{children:["OG: ",l]}),Object(R.jsxs)("p",{children:["SRM/EBC: ",d,"/",u]}),Object(R.jsx)("button",{className:T()(D.a.toCart,"btn","primary"),onClick:function(){r(t)},disabled:a,children:a?"In the Cart":"Add to Cart"})]})]})},Q=a(37),Y=a.n(Q),Z=Object(o.b)((function(e){return{currentPage:e.currentPage,countPage:Math.ceil(e.catalog.length/e.pageSize)}}),{setCurrentPage:S})((function(e){var t=e.currentPage,a=e.countPage,r=e.setCurrentPage,n=[];if(a<6)for(var c=1;c<a+1;c++)n.push(c);else n=t<5?[1,2,3,4,5,-1,a]:t>a-4?[1,-1,a-4,a-3,a-2,a-1,a]:[1,-1,t-1,t,t+1,-1,a];return Object(R.jsxs)("div",{className:Y.a.pagination,children:[Object(R.jsx)("button",{className:"btn",onClick:function(){return r(t-1)},disabled:1===t,children:"<"}),n.map((function(e,a){return Object(R.jsx)("button",{className:T()("btn",{primary:t===e}),onClick:function(){return r(e)},disabled:-1===e,children:-1!==e?e:"..."},a)})),Object(R.jsx)("button",{className:"btn",onClick:function(){return r(t+1)},disabled:t===a,children:">"})]})}));var J=function(e){var t=e.catalog,a=e.cart,n=e.pageSize,c=e.currentPage,s=e.addToCart,i=Object(r.useState)(0),o=Object(L.a)(i,2),l=o[0],u=o[1],j=Object(r.useMemo)((function(){return function(e,t){var a=Object(d.a)(e);switch(t){case 1:return a.sort((function(e,t){return e.abv-t.abv}));case 2:return a.sort((function(e,t){return t.abv-e.abv}));case 3:return a.sort((function(e,t){return e.ibu-t.ibu}));case 4:return a.sort((function(e,t){return t.ibu-e.ibu}));default:return a}}(t,l)}),[t,l]).slice((c-1)*n,c*n);return Object(R.jsxs)("div",{className:D.a.catalog,children:[Object(R.jsxs)("div",{className:D.a.top,children:[Object(R.jsxs)("select",{onChange:function(e){return u(+e.target.value)},children:[Object(R.jsx)("option",{value:"0",children:"None"}),Object(R.jsx)("option",{value:"1",children:"ABV: Low to High"}),Object(R.jsx)("option",{value:"2",children:"ABV: High to Low"}),Object(R.jsx)("option",{value:"3",children:"IBU: Low to High"}),Object(R.jsx)("option",{value:"4",children:"IBU: High to Low"})]}),Object(R.jsx)(Z,{})]}),Object(R.jsx)("div",{className:D.a.list,children:j.map((function(e){return Object(R.jsx)(V,{product:e,addToCart:s,inCart:!!a.find((function(t){return t.id===e.id}))},e.id)}))})]})},K=Object(o.b)((function(e){return{catalog:e.catalog,query:e.query,cart:e.cart,pageSize:e.pageSize,currentPage:e.currentPage}}),{getBeer:function(e){return function(t){f.getBeer(e).then((function(e){return t(P(e))}))}},addToCart:I,setCurrentPage:S})((function(e){var t=e.getBeer,a=e.query,n=e.setCurrentPage,c=Object(z.a)(e,["getBeer","query","setCurrentPage"]);return Object(r.useEffect)((function(){n(1),t(a)}),[a,t,n]),Object(R.jsx)(J,Object(j.a)({},c))})),X=a(14);function $(){var e=document.createElement("div");return e.style.cssText="\n  position: absolute;\n  z-index: 99;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(0 ,0, 0, .4);\n",e}var W=function(e){var t=e.onClose,a=e.children,n=Object(r.useMemo)($,[]);return Object(r.useEffect)((function(){var e=document.body.style.overflow;return document.body.style.overflow="hidden",document.body.append(n),n.onclick=function(e){e.target===n&&t()},function(){n.remove(),document.body.style.overflow=e}}),[t,n]),s.a.createPortal(a,n)},ee=function(e){return e?null:"Field is require"},te=a(7),ae=a.n(te),re=function(e){var t=e.onClose,a=Object(r.useState)({fio:"",email:"",password:"",date:""}),n=Object(L.a)(a,2),c=n[0],s=n[1],i=Object(r.useState)({fio:null,email:null,password:null,date:null}),o=Object(L.a)(i,2),l=o[0],u=o[1],d=function(e){s(Object(j.a)(Object(j.a)({},c),{},Object(X.a)({},e.target.name,e.target.value)))};return Object(R.jsx)(W,{onClose:t,children:Object(R.jsxs)("form",{className:T()("paper",ae.a.form),onSubmit:function(e){e.preventDefault(),function(){var e,t,a=ee(c.fio),r=ee(c.date),n=(e=c.email,/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)?null:"Invalid email address"),s=(t=6,function(e){return e.length<t?"Minimum length ".concat(t," characters"):null})(c.password);return u(Object(j.a)(Object(j.a)({},l),{},{fio:a,date:r,email:n,password:s})),!(a||r||n||s)}()&&t()},children:[Object(R.jsx)("span",{className:ae.a.close,onClick:t,children:"x"}),Object(R.jsxs)("div",{className:T()(ae.a.field,Object(X.a)({},ae.a.error,l.fio)),children:[Object(R.jsx)("input",{type:"text",name:"fio",value:c.fio,onChange:d,placeholder:"FIO"}),l.fio&&Object(R.jsx)("p",{className:ae.a.error,children:l.fio})]}),Object(R.jsxs)("div",{className:T()(ae.a.field,Object(X.a)({},ae.a.error,l.email)),children:[Object(R.jsx)("input",{type:"text",name:"email",value:c.email,onChange:d,placeholder:"Email"}),l.email&&Object(R.jsx)("p",{className:ae.a.error,children:l.email})]}),Object(R.jsxs)("div",{className:T()(ae.a.field,Object(X.a)({},ae.a.error,l.password)),children:[Object(R.jsx)("input",{type:"password",name:"password",value:c.password,onChange:d,placeholder:"Password"}),l.password&&Object(R.jsx)("p",{className:ae.a.error,children:l.password})]}),Object(R.jsxs)("div",{className:T()(ae.a.field,Object(X.a)({},ae.a.error,l.date)),children:[Object(R.jsx)("input",{type:"date",name:"date",value:c.date,onChange:d,placeholder:"Date"}),l.date&&Object(R.jsx)("p",{className:ae.a.error,children:l.date})]}),Object(R.jsx)("button",{className:"btn primary",children:"Sign Up"})]})})},ne=a(13),ce=a.n(ne),se=Object(o.b)((function(e){return{cartCounter:e.cart.length,query:e.query}}),{setQuery:k})((function(e){var t=e.cartCounter,a=e.query,n=e.setQuery,c=Object(r.useState)(!1),s=Object(L.a)(c,2),o=s[0],l=s[1];return Object(R.jsxs)("header",{className:ce.a.header,children:[Object(R.jsxs)("div",{className:T()(ce.a.container,"container"),children:[Object(R.jsx)("input",{className:ce.a.inputSearch,type:"text",placeholder:"Search",value:a,onChange:function(e){" "!==e.target.value&&n(e.target.value)}}),Object(R.jsxs)("nav",{className:ce.a.nav,children:[Object(R.jsx)("button",{className:T()(ce.a.navItem,"btn"),onClick:function(){return l(!0)},children:"Sign Up"}),Object(R.jsx)(i.b,{to:"/catalog",className:T()(ce.a.navItem,"btn"),children:"Catalog"}),Object(R.jsxs)(i.b,{to:"/cart",className:T()(ce.a.navItem,"btn"),children:["Cart ",Object(R.jsx)("span",{className:ce.a.cartCounter,children:t})]})]})]}),o&&Object(R.jsx)(re,{onClose:function(){return l(!1)}})]})})),ie=function(){return Object(R.jsxs)("div",{className:"app",children:[Object(R.jsx)(se,{}),Object(R.jsx)("div",{className:"container",children:Object(R.jsxs)(E.d,{children:[Object(R.jsx)(E.b,{path:"/catalog",exact:!0,component:K}),Object(R.jsx)(E.b,{path:"/cart",component:q}),Object(R.jsx)(E.a,{to:"/catalog"})]})})]})},oe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,55)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))};a(53);s.a.render(Object(R.jsx)(i.a,{children:Object(R.jsx)(n.a.StrictMode,{children:Object(R.jsx)(o.a,{store:U,children:Object(R.jsx)(ie,{})})})}),document.getElementById("root")),oe()},7:function(e,t,a){e.exports={form:"SignUpModal_form__2LHpt",field:"SignUpModal_field__2F2CU",error:"SignUpModal_error__18h6d",close:"SignUpModal_close__XRcOZ"}}},[[54,1,2]]]);